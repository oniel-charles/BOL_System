<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
<script
			  src="https://code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
</head>
<body>
  <h1>Hello routing world</h1>
  <nav>
            <ul>
              <li><a href="#/">Home</a></li>
              <li><a href="#/inbox/">inbox</a></li>
              <li><a href="#/users/oniel charles">user</a></li>
			  <li><a href="#/logout/">Logout</a></li>
            </ul>
          </nav>
  <div id="view"></div>
  <script src="./rlite.js"></script>
  <script >
  var r = Rlite();

// Default route
r.add('', function () {
  document.title = 'Home';
});

// #inbox
r.add('inbox', function () {
  document.title = 'In';
  
  $.get( "second.html", function( data ) {
  $( "#view" ).html( data );
});
});

// #sent?to=john -> r.params.to will equal 'john'
r.add('sent', function (r) {
  document.title = 'Out ' + r.params.to;
});

// #users/chris -> r.params.name will equal 'chris'
r.add('users/:name', function (r) {
  document.title = 'User ' + r.params.name;
  console.log(r.params.name);
   $.getScript('./second.js', function (data, textStatus, jqxhr) {
        //console.log(data); // Data returned
        //console.log(textStatus); // Success
        console.log(jqxhr.status); // 200
        console.log("Load was performed.");
      }).fail(function( jqxhr, settings, exception ) {
       alert(exception);
    });
  
});

// #logout
r.add('logout', function () {
  document.title = 'Logout';
});

// Hash-based routing
function processHash() {
  var hash = location.hash || '#';
  r.run(hash.slice(1));
}

window.addEventListener('hashchange', processHash);
processHash();
  </script>
</body>
</html>
