<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!-- Meta, title, CSS, favicons, etc. -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Bill of Lading Processing </title>
  <link rel="icon" href="./img/app_icon.ico">

  <link href="./vendor/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Custom Theme Style -->
  <link href="./build/css/custom.css" rel="stylesheet">
  <link rel="stylesheet" href="./vendor/css/bootstrap-select.min.css">
  <!-- Font Awesome -->
  <link href="./vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <!-- NProgress -->
  <link href="./vendors/nprogress/nprogress.css" rel="stylesheet">

  <!-- iCheck -->
  <link href="./vendors/iCheck/skins/flat/green.css" rel="stylesheet">
  <!-- bootstrap-daterangepicker -->
  <link href="./css/datepicker.min.css" rel="stylesheet">

  <link rel="stylesheet" href="./dist/css/bootstrapValidator.css" />
  <link rel="stylesheet" href="./vendor/css/bootstrap-table.min.css" />
  <link href="./vendor/css/toastr.min.css" rel="stylesheet">

  <link href="./css/bootstrap-editable.css" rel="stylesheet" />


</head>

<body class="nav-md">
  <div id='app-cover' style=" display:none;position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
  background-color: rgba(0,0,0,0.9); /*dim the background*/"></div>
  <div class="container body">
    <div class="main_container">
      <div class="col-md-3 left_col">
        <div class="left_col scroll-view">
          <div class="navbar nav_title" style="border: 0;">
            <a href="index.html" class="site_title">
                <img src="./img/company_icon.ico" />
                <span id=glo_company_name></span>
            </a>
        </div>

          <div class="clearfix"></div>

          <!-- menu profile quick info -->
          <div class="profile clearfix">
            <div class="profile_pic">
              <img src="images/img.jpg" alt="..." class="img-circle profile_img">
            </div>
            <div class="profile_info">
              <span>Welcome,</span>
              <h2 class="user_fullname_disaplay">Active User</h2>
            </div>
          </div>
          <!-- /menu profile quick info -->

          <br />

          <!-- sidebar menu -->
          <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
            <div class="menu_section">
              <h3>General</h3>
              <ul class="nav side-menu">
                <li>
                  <a>
                    <i class="fa fa-home"></i> Home
                    <span class="fa fa-chevron-down"></span>
                  </a>
                  <ul class="nav child_menu">
                    <li>
                      <a href="#">Dashboard</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a>
                    <i class="fa fa-cogs"></i> Maintenance
                    <span class="fa fa-chevron-down"></span>
                  </a>
                  <ul class="nav child_menu" id="mnt-opt">
                    <li>
                      <a href="maintain_vessel.html">Vessel</a>
                    </li>
                    <li>
                      <a href="maintain_port.html">Port</a>
                    </li>
                    <li>
                      <a href="maintain_country.html">Vessel</a>
                    </li>
                    <li>
                      <a href="maintain_currency">Currency</a>
                    </li>
                    <li>
                      <a href="maintain_package.html">Package</a>
                    </li>
                    <li>
                      <a href="./#/commodity">Commodity</a>
                    </li>
                    <li>
                      <a href="maintain_container_size_type.html">Container Size Type</a>
                    </li>
                    <li>
                      <a href="maintain_client.html">Vessel</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a>
                    <i class="fa fa-list-alt"></i> Charges
                    <span class="fa fa-chevron-down"></span>
                  </a>
                  <ul class="nav child_menu">
                    <li>
                      <a href="maintain_charges.html">Charge Item</a>
                    </li>
                    <li>
                      <a href="maintain_sur_charge.html">Sur Charge</a>
                    </li>
                    <li>
                      <a href="maintain_gct_rate.html">GCT Rate</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a>
                    <i class="fa fa-dollar"></i> Billing
                    <span class="fa fa-chevron-down"></span>
                  </a>
                  <ul class="nav child_menu">
                    <li>
                      <a href="maintain_receipt.html">Receipt</a>
                    </li>
                    <li>
                      <a href="maintain_order.html">Order</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a>
                    <i class="fa fa-anchor"></i> Manifest Processing
                    <span class="fa fa-chevron-down"></span>
                  </a>
                  <ul class="nav child_menu">
                    <li>
                      <a href="maintain_voyage.html">Voyage</a>
                    </li>
                    <li>
                      <a href="maintain_bill_of_lading.html">Bill of Lading</a>
                    </li>
                    <li>
                      <a href="BillOfLading_Enquiry.html">Bill of Lading Inquiry</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a>
                    <i class="fa fa-bar-chart"></i> Reports
                    <span class="fa fa-chevron-down"></span>
                  </a>
                  <ul class="nav child_menu">
                    <li>
                      <a href="maintain_item_Report.html">Item Report (Freight)</a>
                    </li>
                    <li>
                      <a href="maintain_print_daily_receipt.html">Print Daily Receipt</a>
                    </li>
                    <li>
                      <a href="maintain_print_daily_order.html">Print Daily Order</a>
                    </li>
                    <li>
                      <a href="maintain_print_cancel_receipt.html">Print Cancel Receipt</a>
                    </li>
                    <li>
                      <a href="maintain_print_cancel_order.html">Print Cancel Order</a>
                    </li>
                    <li>
                      <a href="maintain_gct_report.html">GCT Report</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>


          </div>
          <!-- /sidebar menu -->

          <!-- /menu footer buttons -->
          <div class="sidebar-footer hidden-small">
            <a data-toggle="tooltip" data-placement="top" title="Settings">
              <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
            </a>
            <a data-toggle="tooltip" data-placement="top" title="FullScreen">
              <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
            </a>
            <a data-toggle="tooltip" data-placement="top" title="Lock">
              <span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span>
            </a>
            <a data-toggle="tooltip" data-placement="top" title="Logout" href="javascript:authenticateUser()">
              <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
            </a>
          </div>
          <!-- /menu footer buttons -->
        </div>
      </div>

      <!-- top navigation -->
      <div class="top_nav">
          <div class="nav_menu">
              <nav>
                  <div class="nav toggle" style=" line-height: 12px;padding: 5px 5px;">
                      <a id="menu_toggle">
                          <i style="font-size:16px" class="fa fa-bars"></i>
                      </a>
                  </div>

                  <ul class="nav navbar-nav navbar-left">
                      <li class="">
                          <a style=" line-height: 12px;padding: 5px 5px ;margin-top:2px" href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown"
                              aria-expanded="false">
                              <span style="font-size: 15px;color:#73879C;font-weight:bold;"> </span>
                          </a>

                      </li>

                  </ul>

                  <ul class="nav navbar-nav navbar-right">
                      <li class="">
                          <a style=" line-height: 12px;padding: 0px 0px;" href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown"
                              aria-expanded="false">
                              <img src="images/img.jpg" alt=""><span class="user_fullname_disaplay">Active User</span>
                              <span class=" fa fa-angle-down"></span>
                          </a>
                          <ul class="dropdown-menu dropdown-usermenu pull-right">
                              <li>
                                  <a href="javascript:;"> Profile</a>
                              </li>
                              <li>
                                  <a href="javascript:passwordChangeRequest()"> 
                                      <i class="fa fa-lock pull-right"></i> Change Password</a>
                                      
                                  </a>
                              </li>
                              <li>
                                  <a href="javascript:displayHelp();">Help</a>
                              </li>
                              <li>
                                  <a href="javascript:authenticateUser()"> 
                                      <i class="fa fa-sign-out pull-right"></i> Log Out</a>
                              </li>
                          </ul>
                      </li>

                      <li role="presentation" class="dropdownx">
                          <button type="button" class="btn btn-round btn-success btn-sm " onclick="window.location.href='BillOfLading_Enquiry.html'">
                              <i class="fa fa-search-plus"></i> Shipment Inquiry</button>

                      </li>
                  </ul>
              </nav>
          </div>
      </div>
      <!-- /top navigation -->

      <!-- page content -->

      <div id='dashboard' style="display:none" class="right_col" role="main">
        <!--a href="#/commodity">Home</a-->
        <!-- top tiles -->
        <div class="row tile_count">
          <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top">
              <i class="fa fa-user"></i> Weekly Customers</span>
            <div id="total_customer" class="count">1500</div>
            <span class="count_bottom">
              <i class="green" id="total_customer_diff" ><i class="fa fa-sort-asc"></i>4% </i> From last Week</span>
          </div>
          <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top">
              <i class="fa fa-clock-o"></i> Average Days</span>
            <div id="average_days" class="count">172.50</div>
            <span class="count_bottom">
              <i id="average_days_diff" class="green">
                <i class="fa fa-sort-asc"></i>3% </i> From last Month</span>
          </div>
          <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top">
              <i class="fa fa-dollar"></i> Total Freight</span>
            <div id="total_freight" class="count green">$21,500</div>
            <span class="count_bottom">
              <i id="total_freight_diff" class="green">
                <i class="fa fa-sort-asc"></i>14% </i> From last Week</span>
          </div>
          <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top">
              <i class="fa fa-truck"></i> Total Container</span>
            <div id="total_container" class="count">67</div>
            <span class="count_bottom">
              <i id="total_container_diff" class="red">
                <i class="fa fa-sort-desc"></i>12% </i> From last Week</span>
          </div>

          <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top">
              <i class="fa fa-square"></i> Containers Not Stripped</span>
            <div id="not_stripped" class="count">10</div>

          </div>
        </div>
        <!-- /top tiles -->
        <div class="row">
          <div class="col-md-6 col-sm-6 col-xs-12">
            <div class="x_panel">
              <div class="x_title">
                <h2>Revenue Proformance
                  <small>by Year (TBC)</small>
                </h2>
                <ul class="nav navbar-right panel_toolbox">
                  <li>
                    <a class="collapse-link">
                      <i class="fa fa-chevron-up"></i>
                    </a>
                  </li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                      <i class="fa fa-wrench"></i>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                      <li>
                        <a href="#">Settings 1</a>
                      </li>
                      <li>
                        <a href="#">Settings 2</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a class="close-link">
                      <i class="fa fa-close"></i>
                    </a>
                  </li>
                </ul>
                <div class="clearfix"></div>
              </div>
              <div class="x_content">
                <canvas id="line-chart"></canvas>
              </div>


            </div>
            <div class="x_panel">
              <div class="x_title">
                <h2>Cashier Work Rate
                  <small>by Cashier</small>
                </h2>
                <ul class="nav navbar-right panel_toolbox">
                  <li>
                    <a class="collapse-link">
                      <i class="fa fa-chevron-up"></i>
                    </a>
                  </li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                      <i class="fa fa-wrench"></i>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                      <li>
                        <a href="#">Settings 1</a>
                      </li>
                      <li>
                        <a href="#">Settings 2</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a class="close-link">
                      <i class="fa fa-close"></i>
                    </a>
                  </li>
                </ul>
                <div class="clearfix"></div>
              </div>
              <div class="x_content">
                <canvas id="my-pie-chart"></canvas>
              </div>


            </div>
          </div>

          <div class="col-md-6 col-sm-6 col-xs-12">
            <div class="x_panel tile fixed_height_320 overflow_hidden">
              <div class="x_title">
                <h2>Revenue Break Down</h2>
                <ul class="nav navbar-right panel_toolbox">
                  <li>
                    <a class="collapse-link">
                      <i class="fa fa-chevron-up"></i>
                    </a>
                  </li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                      <i class="fa fa-wrench"></i>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                      <li>
                        <a href="#">Settings 1</a>
                      </li>
                      <li>
                        <a href="#">Settings 2</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a class="close-link">
                      <i class="fa fa-close"></i>
                    </a>
                  </li>
                </ul>
                <div class="clearfix"></div>
              </div>
              <div class="x_content">
                <table    class="" style="width:100%">
                  <tr>
                    <th style="width:37%;">
                      <p>For the Month</p>
                    </th>
                    <th>
                      <div class="col-lg-7 col-md-7 col-sm-7 col-xs-6">
                        <p class="">Charges</p>
                      </div>
                      <div class="col-lg-5 col-md-5 col-sm-5 col-xs-6">
                        <p class="">Amount</p>
                      </div>
                    </th>
                  </tr>
                  <tr>
                    <td>
                      <canvas id="revenue_breakdown_doughnut" height="140" width="140" style="margin: 15px 10px 10px 0"></canvas>



                    </td>
                    <td>
                      <table  style="width:100%" id="revenue_break_down_table">
                        <tr><th style="width:40%">xxx</th><th style="width:60%">yy</th></tr>
                        <tr>
                          <td>
                            <p>
                              <i class="fa fa-square blue"></i>Door to Door </p>
                          </td>
                          <td>30%</td>
                        </tr>
                        <tr>
                          <td>
                            <p>
                              <i class="fa fa-square green"></i>Freight Collect </p>
                          </td>
                          <td>10%</td>
                        </tr>
                        <tr>
                          <td>
                            <p>
                              <i class="fa fa-square purple"></i>Handling </p>
                          </td>
                          <td>20%</td>
                        </tr>
                        <tr>
                          <td>
                            <p>
                              <i class="fa fa-square aero"></i>Pre-Clearance Service </p>
                          </td>
                          <td>15%</td>
                        </tr>
                        <tr>
                          <td>
                            <p>
                              <i class="fa fa-square red"></i>WHRG & STRPG & PDC </p>
                          </td>
                          <td>15%</td>
                        </tr>
                      </table>
                    </td>
                  </tr>

                </table>
              </div>
            </div>
            <div class="x_panel tile fixed_height_320 overflow_hidden">
              <div class="x_title">
                <h2>Revenue Break Down<small> (TBC)</small></h2>
              </div>
              <canvas id="revenue_bar_chart"></canvas>
            </div>
          </div>
        </div>

      </div>


      <!-- /page content -->

      <!-- footer content -->
      <footer>
        <div class="pull-right">
          Gentelella - Bootstrap Admin Template by
          <a href="https://colorlib.com">Colorlib</a>
        </div>
        <div class="clearfix"></div>
      </footer>
      <!-- /footer content -->
    </div>
  </div>

  <script src="./vendor/js/jquery.min.js"></script>
  <script src="./vendor/js/jquery-ui.js"></script>
  <script src="./vendor/js/bootstrap.min.js"></script>
  <script src="./vendor/js/bootstrap-table.min.js"></script>
  <script src="./vendor/js/bootstrap-select.min.js"></script>
  <script src="./js/ajax-bootstrap-select.min.js"></script>
  <script src="./vendors/fastclick/lib/fastclick.js"></script>
  <!-- NProgress -->
  <script src="./vendors/nprogress/nprogress.js"></script>

  <script src="./js/bootstrap-editable.js"></script>
  <!-- iCheck -->
  <script src="./js/bootstrap-table-editable.js"></script>
  <script src="./vendors/iCheck/icheck.min.js"></script>
  <!-- bootstrap-daterangepicker -->
  <script src="./js/datepicker.min.js"></script>

  <script type="text/javascript" src="./dist/js/bootstrapValidator.js"></script>
  <script type="text/javascript" src="./vendor/js/toastr.min.js"></script>
  <script src="./vendors/moment/min/moment.min.js"></script>
  <script src="./vendors/fullcalendar/dist/fullcalendar.min.js"></script>

    <!-- Chart.js -->
    <script src="./vendors/Chart.js/dist/Chart.min.js"></script>
      <!--Reveal Animations When You Scroll. -->
  <script src="js/wow.min.js"></script>

  <!-- Custom Theme Scripts -->
  <script src="./build/js/custom.min.js"></script>

  <script src="./scripts/app.js"></script>
  <script>
    var use_dummy_data=false;
    var color_list=["#3e95cd", "#8e5ea2", "#3cba9f", "#c45850","#f28482","#b7b7a4","#e9c46a","#ddbea9", "#e8c3b9"];
    if (!show_dashboard) {
      var $html=' <div style="margin-top:20%;margin-left:15%;width:100%;font-family:Arial Black;font-size:70px;color: #fff;';
        $html+='text-shadow: 0px 1px 0px #999, 0px 2px 0px #888, 0px 3px 0px #777, 0px 4px 0px #666, 0px 5px 0px #555, 0px 6px 0px #444, 0px 7px 0px #333, 0px 8px 7px #001135;';
        $html+='">  BOLSOFT SHIPPING </div>';
       $('#dashboard').html($html);
    }
    $('#dashboard').show();

//Work Rate
    $.ajax({
            url: './app/dashboard/work_rate',
            type: 'GET',
            dataType: 'json',
            success: function (data) {
                  var labels=["Ricardo", "Donna", "Howard", "Pat", "Victoria"];
                  var backgroundColor= ["#3e95cd","#f28482","#b7b7a4","#e9c46a","#ddbea9"];
                  var $data= [2478, 5267, 734, 784, 433];
                  if (!use_dummy_data){
                    labels=[];
                    backgroundColor=[];
                    $data=[];
                    for(var i=0;i<data.length;i++){
                      labels.push(data[i].user_name);
                       backgroundColor.push(color_list[i]);
                       $data.push(data[i].amt);
                    }
                  }
                  new Chart(document.getElementById("my-pie-chart"), {
                  type: 'pie',
                  data: {
                    labels: labels,
                    datasets: [{
                      label: "Number of receipts issued",
                      backgroundColor: backgroundColor,
                      data: $data
                    }]
                  },
                  options: {
                    legend: {
                      display: false,
                    },
                    title: {
                      display: true,
                      text: 'Number of receipts issued over the past month'
                    }
                  }
                });                
            },
            error: function (xhr, ajaxOptions, thrownError) { handleStandardHttpErrors(xhr, ajaxOptions, thrownError) },
            beforeSend: function (xhr, settings) { xhr.setRequestHeader('Authorization', 'Bearer ' + token); }
        });

//Total customers
$.ajax({
            url: './app/dashboard/total_customer',
            type: 'GET',
            dataType: 'json',
            success: function (data) {
                if(!use_dummy_data){
                  var last_week=0,current_week=0;
                  $('#total_customer').html(0);
                  data.forEach(element => {
                    if(element.period=='current') { 
                      current_week=element.amt;
                      $('#total_customer').html(element.amt);
                    }else last_week=element.amt;                   
                  });
                  addUpTick($('#total_customer_diff'),current_week,last_week);
                  
                }              
            },
            error: function (xhr, ajaxOptions, thrownError) { handleStandardHttpErrors(xhr, ajaxOptions, thrownError) },
            beforeSend: function (xhr, settings) { xhr.setRequestHeader('Authorization', 'Bearer ' + token); }
        });
//***********************************
//Total customers
$.ajax({
            url: './app/dashboard/average_days',
            type: 'GET',
            dataType: 'json',
            success: function (data) {              
              if(!use_dummy_data){
                  var last=0,current=0;
                  data.forEach(element => {
                    if(element.period=='current') { 
                      current=element.days;
                      $('#average_days').html(element.days);
                    }else last=element.days;                   
                  });
                  addUpTick($('#average_days_diff'),current,last,true);
                  
                }  
                          
            },
            error: function (xhr, ajaxOptions, thrownError) { handleStandardHttpErrors(xhr, ajaxOptions, thrownError) },
            beforeSend: function (xhr, settings) { xhr.setRequestHeader('Authorization', 'Bearer ' + token); }
        });
//**********  
//Total customers
$.ajax({
            url: './app/dashboard/total_freight',
            type: 'GET',
            dataType: 'json',
            success: function (data) {              
              if(!use_dummy_data){
                  var last=0,current=0;
                  data.forEach(element => {
                    if(element.period=='current') { 
                      current=element.amt;
                      $('#total_freight').html(numericStr(element.amt,2));
                    }else last=element.amt;                   
                  });
                  addUpTick($('#total_freight_diff'),current,last);
                  
                }  
                          
            },
            error: function (xhr, ajaxOptions, thrownError) { handleStandardHttpErrors(xhr, ajaxOptions, thrownError) },
            beforeSend: function (xhr, settings) { xhr.setRequestHeader('Authorization', 'Bearer ' + token); }
        });
//**********       
//Total containers
$.ajax({
            url: './app/dashboard/total_container',
            type: 'GET',
            dataType: 'json',
            success: function (data) {       
              if(!use_dummy_data){                
                  var last=0,current=0;
                  $('#total_container').html(0);
                  data.forEach(element => {
                    if(element.period=='current') { 
                      current=element.amt;
                      $('#total_container').html(numericStr(element.amt));
                    }else last=element.amt;                   
                  });
                  console.log(current+'  '+last);
                  addUpTick($('#total_container_diff'),current,last);
                  
                }  
                          
            },
            error: function (xhr, ajaxOptions, thrownError) { handleStandardHttpErrors(xhr, ajaxOptions, thrownError) },
            beforeSend: function (xhr, settings) { xhr.setRequestHeader('Authorization', 'Bearer ' + token); }
        });
//**********   
//Not Stripped
$.ajax({
            url: './app/dashboard/not_stripped',
            type: 'GET',
            dataType: 'json',
            success: function (data) {       
              if(!use_dummy_data){        
                 $('#not_stripped').html(numericStr(data[0].amt,0));
                                    
                }  
                          
            },
            error: function (xhr, ajaxOptions, thrownError) { handleStandardHttpErrors(xhr, ajaxOptions, thrownError) },
            beforeSend: function (xhr, settings) { xhr.setRequestHeader('Authorization', 'Bearer ' + token); }
        });
//**********  
//Revenue Break Down
$.ajax({
            url: './app/dashboard/revenue_break_down',
            type: 'GET',
            dataType: 'json',
            success: function (data) {
              var $labels= ["Symbian","Blackberry","Other","Android","IOS"];  
              var $data=[15, 20, 30, 10, 30]; 
              var $backgroundColor= ["#BDC3C7","#9B59B6","#E74C3C","#26B99A","#3498DB"];   
              
              if(!use_dummy_data){      
                $labels=[];$data=[];$backgroundColor=[]; 
               /* 
                var table = $('<table width=100% border=0 style="font-size:16px">'), row;
                row = $('<tr>');
                row.append($('<td>', { html: 'Consignee Name :', css: { 'width': '200px' } }))
                    .append($('<td>', { html: getSelectedRow().consignee_name, css: { "color": "black" } }))
                table.append(row);
                */
               var table=$("#revenue_break_down_table");
               table.html('');
               row = $('<tr>');
                row.append('<th style="width:70%"></td>')
                  .append('<th style="width:30%;text-align:right"></td>');
                    table.append(row);

                   data.forEach((e,i)=>{
                       $labels.push(e.item_code);
                       $data.push(numeric(e.amt,2));
                       $backgroundColor.push(color_list[i]);

                       row = $('<tr>');
                       row.append($('<td>', { html: '<p><i class="fa fa-square " style="color:'+color_list[i]+'"></i>'+e.description.substring(0, 25)+'</p>', css: { 'font-size':'12px' }  }))
                        .append($('<td>', { html: numericStr(e.amt,2), css: { 'text-align':'right','font-size':'12px' } }));
                       table.append(row);
                   });                                 
                }  
                revenue_breakdown_doughnut($labels,$data,$backgroundColor);                   
            },
            error: function (xhr, ajaxOptions, thrownError) { handleStandardHttpErrors(xhr, ajaxOptions, thrownError) },
            beforeSend: function (xhr, settings) { xhr.setRequestHeader('Authorization', 'Bearer ' + token); }
      });
    
function revenue_breakdown_doughnut($labels,$data,$backgroundColor){
				
        if( typeof (Chart) === 'undefined'){ return; }
        
        console.log('init_chart_doughnut');
       
        if ($('#revenue_breakdown_doughnut').length){
          
        var chart_doughnut_settings = {
            type: 'doughnut',
            tooltipFillColor: "rgba(51, 51, 51, 0.55)",
            data: {
              labels: $labels,
              datasets: [{
                data: $data,
                backgroundColor: $backgroundColor
              }]
            },
            options: { 
              legend: true, 
              responsive: false 
            }
          }
        
          $('#revenue_breakdown_doughnut').each(function(){
            
            var chart_element = $(this);
            var chart_doughnut = new Chart( chart_element, chart_doughnut_settings);
            
          });			
        
        }  
         
      }
//********************
function addUpTick(el,newVal,oldVal,upIsGood){  
  var tmp=numeric(((newVal-oldVal)/oldVal) *100,0);
  el.removeClass('red green');
  if(tmp<0 ) {
      if(!upIsGood) el.addClass('red');
      else el.addClass('green');
      el.html('<i class="fa fa-sort-desc"></i>'+numericStr(tmp).split('-').join('')+'%');
  }else{
      if(!upIsGood) el.addClass('green');
      else el.addClass('red');
      el.html('<i class="fa fa-sort-asc"></i>'+numericStr(tmp).split('-').join('')+'%');
  } 
  
}
    new Chart(document.getElementById("line-chart"), {
      type: 'line',
      data: {
        labels: ["January", "February", "March", "April", "May", "June", "July"],
        datasets: [{
          label: "Revenue for 2020",
          backgroundColor: "rgba(38, 185, 154, 0.31)",
          borderColor: "rgba(38, 185, 154, 0.7)",
          pointBorderColor: "rgba(38, 185, 154, 0.7)",
          pointBackgroundColor: "rgba(38, 185, 154, 0.7)",
          pointHoverBackgroundColor: "#fff",
          pointHoverBorderColor: "rgba(220,220,220,1)",
          pointBorderWidth: 1,
          data: [31000, 74000, 6000, 39000, 20000, 85000, 7000]
        }, {
          label: "Revenue for 2021",
          backgroundColor: "rgba(3, 88, 106, 0.3)",
          borderColor: "rgba(3, 88, 106, 0.70)",
          pointBorderColor: "rgba(3, 88, 106, 0.70)",
          pointBackgroundColor: "rgba(3, 88, 106, 0.70)",
          pointHoverBackgroundColor: "#fff",
          pointHoverBorderColor: "rgba(151,187,205,1)",
          pointBorderWidth: 1,
          data: [82000, 23000, 66000, 9000, 99000, 4000, 2000]
        }]
      },
      options: {
        title: {
          display: true,
          text: 'Comparing Revenue Performance for the last six month'
        }
      }
    });

    if ($('#revenue_bar_chart').length ){ 
			  
			  var ctx = document.getElementById("revenue_bar_chart");
			  var mybarChart = new Chart(ctx, {
				type: 'bar',
				data: {
				  labels: ["January", "February", "March", "April", "May", "June", "July"],
				  datasets: [{
					label: '# of Customers',
					backgroundColor: "#26B99A",
					data: [51, 30, 40, 28, 92, 50, 45]
				  }, {
					label: '# of Customers',
					backgroundColor: "#03586A",
					data: [41, 56, 25, 48, 72, 34, 12]
				  }]
				},

				options: {
				  scales: {
					yAxes: [{
					  ticks: {
						beginAtZero: true
					  }
					}]
				  }
				}
			  });
			  
			} 


  </script>

</body>

</html>